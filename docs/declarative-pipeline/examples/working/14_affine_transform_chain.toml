# Affine Transform Chain Example
# Demonstrates connecting AffineTransform in a pipeline
# This example validates and shows the module configuration pattern

[pipeline]
name = "Affine Transform Chain"

# Generate test frames (YUV420 planar format)
[modules.source]
type = "TestSignalGenerator"
  [modules.source.props]
  width = 640
  height = 480

# Convert YUV420 planar to RGB (required by AffineTransform)
[modules.convert]
type = "ColorConversion"
  [modules.convert.props]
  conversionType = "YUV420PLANAR_TO_RGB"

# Apply affine transformation
# - angle: rotation in degrees (positive = counter-clockwise)
# - scale: scaling factor (0.5 = half size, 2.0 = double size)
# - x, y: translation offset in pixels
[modules.transform]
type = "AffineTransform"
  [modules.transform.props]
  angle = 45.0
  scale = 0.8

# Statistics sink for monitoring
[modules.sink]
type = "StatSink"

# Chain: source -> convert -> transform -> sink
[[connections]]
from = "source"
to = "convert"

[[connections]]
from = "convert"
to = "transform"

[[connections]]
from = "transform"
to = "sink"
