{
  "pipeline": {
    "name": "Jetson H264 Encoding",
    "description": "Demonstrates Jetson V4L2 H264 hardware encoder - decodes JPEG, transforms, and encodes to H264"
  },
  "modules": {
    "reader": {
      "type": "FileReaderModule",
      "props": {
        "strFullFileNameWithPattern": "./data/frame_????.jpg",
        "readLoop": false,
        "maxIndex": 100
      }
    },
    "jpeg_decoder": {
      "type": "JPEGDecoderL4TM"
    },
    "transform": {
      "type": "NvTransform",
      "props": {
        "imageType": "YUV420",
        "width": 1280,
        "height": 720
      }
    },
    "h264_encoder": {
      "type": "H264EncoderV4L2",
      "props": {
        "targetKbps": 4000
      }
    },
    "writer": {
      "type": "FileWriterModule",
      "props": {
        "strFullFileNameWithPattern": "/tmp/jetson_output/encoded.h264"
      }
    }
  },
  "connections": [
    { "from": "reader", "to": "jpeg_decoder" },
    { "from": "jpeg_decoder", "to": "transform" },
    { "from": "transform", "to": "h264_encoder" },
    { "from": "h264_encoder", "to": "writer" }
  ]
}
